(function(h,i,F){"use strict";var s='Juice',t=function(){};(function(f,l){l.prototype={play:function(){var a=this,d=a.fps;a.setup(a);a.loops=0;a.isStopped=false;setTimeout(function(){a.draw()},1e3/d)},stop:function(){this.isStopped=true},draw:function(){var a=this,d=a.frame,b=a.fps,c=a.length,g=a.maxFrames,j=a.context,e=a.cache||[];if(!d){a.frame=0}a.maxFrames=b*(c/1e3);j.clearRect(0,0,a.wFull,a.hFull);if(d in e){j.putImageData(e[d],0,0)}else{a.cache[d]=a.drawFrame()}if(++a.frame>=g){a.loops++;a.frame=0;if(a.onLoop){a.onLoop(a,a.loops)}}if(!(a.isStopped)){setTimeout(function(){a.draw()},1e3/b)}},drawFrame:function(){var a=this,d=a.frame,b=a.context,c=a.wFull,g=a.hFull;b.globalAlpha=a.alpha;i.each(a.points,function(){this.draw(d/a.maxFrames)});return b.getImageData(0,0,c,g)}}}(h,h.Animation=h.Animation||function(a){var d=h.Point,b,c,g,j,e=this,f=!a?{}:a;e.cssID=!f.cssID?null:f.cssID;e.cssClass=!f.cssClass?s:f.cssClass;e.w=!f.w?50:f.w;e.h=!f.h?50:f.h;e.padding=!f.padding?0:f.padding;e.wFull=e.w+2*e.padding;e.hFull=e.h+2*e.padding;e.cache=[];e.context=!f.context?null:f.context;e.length=!f.length?1000:f.length;e.fps=!f.fps?30:f.fps;e.alpha=!f.alpha?1:f.alpha;e.ptSize=!f.ptSize?10:f.ptSize;e.setup=!f.setup?t:f.setup;e.onSetup=!f.onSetup?t:f.onSetup;e.onLoop=!f.onLoop?t:f.onLoop;g=!f.trail?{}:f.trail;e.trail=new h.Trail(g);e.points=[];j=!f.points?[{}]:f.points;b=j.length;for(c=0;ca.h)?a.w/2:a.h/2):c.r;b.start=c.start||0;b.end=c.end||360;return b}));(function(a){}(m,m.Ellipse=m.Ellipse||function(a,d){return this}));(function(H,A){A.prototype.draw=function(a,d){var b=this,c=b.startX,g=b.startY,j=b.endX,e=b.endY,f=b.cp1x,l=b.cp1y,n=b.cp2x,k=b.cp2y,r=(1-a)*(1-a)*(1-a),v=3*(1-a)*(1-a)*a,w=3*(1-a)*a*a,x=a*a*a,B=r*c+v*f+w*n+x*j,C=r*g+v*l+w*k+x*e;d.render(B,C)}}(m,m.Bezier=m.Bezier||function(a,d){var b=this,c=d||{};b.startX=c.startX;b.startY=c.startY;b.endX=c.endX;b.endY=c.endY;b.cp1x=c.cp1x;b.cp1y=c.cp1y;b.cp2x=c.cp2x;b.cp2y=c.cp2y;return b}))}(h,h.Path=h.Path||function(a,d){var b,c=d||{},g=this;g.name=c.name||'';if(g.name==='line'){b=new h.Path.Line(a,d)}else if(g.name==='arc'){b=new h.Path.Arc(a,d)}else if(g.name==='bezier'){b=new h.Path.Bezier(a,d)}else if(g.name==='ellipse'){b=new h.Path.Ellipse(a,d)}return b}));var y=h.Animation,I=h.Point,J=h.Path,q=h.Trail;if(i){var D,o=function(a,d){var b;if(typeof d==='object'){b=i(a).data(s,d)}else{b=i(a).data(s)}return b},E=function(a){return a instanceof i},z=function(a){return a instanceof y},p=function(a){var d=i(a);d.play=function(){return d.Juice('play')};d.stop=function(){return d.Juice('stop')};return d},u=function(d,b){var c=[];d.each(function(){if(i(this).prop('tagName')!=='CANVAS'){if(b){var a=document.createElement('canvas');i(a).addClass('Juice');i(this).prepend(i(a));c.push(a)}}else{c.push(this)}});return c};(function(d){d.play=function(a){return a.Juice('play')};d.stop=function(a){return a.Juice('stop')}}(i.Juice=i.Juice||function(a){if(E(a)){return p(a)}},i));(function(g){g.methods={init:function(b){var c=u(this,true);D=c;i.each(c,function(){var a=this,d=o(a);if(!d){b.context=a.getContext('2d');o(a,new y(b));d=o(a);i(a).attr('height',d.hFull);i(a).attr('width',d.wFull)}});return p(c)},play:function(){var d=u(this,false);return p(i.each(d,function(){var a=o(this);if(z(a)){a.play()}}))},stop:function(){var d=u(this,false);return p(i.each(d,function(){var a=o(this);if(z(a)){a.stop()}}))}};g.play=function(a){return i(a).Juice('play')};g.stop=function(a){return i(a).Juice('stop')}}(i.fn.Juice=i.fn.Juice||function(a){var d,b=i.fn.Juice.methods;if(b[a]){d=b[a].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof a==='object'){d=b.init.apply(this,arguments)}else if(typeof a==='undefined'){d=p(this)}return d},i.fn))}}(window.Juice=window.Juice||function(){},window.jQuery));
