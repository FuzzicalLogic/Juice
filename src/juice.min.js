(function(g,i){var o="Juice";var c=function(){};(function(p,d){var q=o+".Animation";d.prototype={play:function(){var s=this;console.log(s);var t=s.fps,r=s.length;s.setup(s);s.loops=0;s.isStopped=false;setTimeout(function(){s.draw()},1000/t)},stop:function(){this.isStopped=true},draw:function(){var u=this,v=u.frame,w=u.fps,s=u.length,r=u.maxFrames,x=u.context,t=u.cache;if(!v){u.frame=0}u.maxFrames=w*(s/1000);x.clearRect(0,0,u.wFull,u.hFull);if(v in t){x.putImageData(t[v],0,0)}else{u.cache[v]=u.drawFrame()}if(++u.frame>=r){u.loops++;u.frame=0;if(u.onLoop){u.onLoop(u,u.loops)}}if(!(u.isStopped)){setTimeout(function(){u.draw()},1000/w)}},drawFrame:function(){var s=this,u=s.frame,v=s.context;var r=s.wFull,t=s.hFull;v.globalAlpha=s.alpha;i.each(s.points,function(){this.draw(u/s.maxFrames)});return v.getImageData(0,0,r,t)}}}(g,g.Animation=g.Animation||function(t){var w=Juice.Point;var p,r,s,v,q=this,u=!t?{}:t;q.cssID=!u.cssID?null:u.cssID;q.cssClass=!u.cssClass?o:u.cssClass;q.w=!u.w?50:u.w;q.h=!u.h?50:u.h;q.padding=!u.padding?0:u.padding;q.wFull=q.w+2*q.padding;q.hFull=q.h+2*q.padding;q.cache=[];q.context=!u.context?null:u.context;q.length=!u.length?1000:u.length;q.fps=!u.fps?30:u.fps;q.alpha=!u.alpha?1:u.alpha;q.ptSize=!u.ptSize?10:u.ptSize;q.setup=!u.setup?c:u.setup;q.onSetup=!u.onSetup?c:u.onSetup;q.onLoop=!u.onLoop?c:u.onLoop;s=!u.trail?{}:u.trail;q.trail=new Juice.Trail(s);q.points=[];v=!u.points?[{}]:u.points;p=v.length;for(r=0;rs.h)?s.w/2:s.h/2):t.r;q.start=!t.start?0:t.start;q.end=!t.end?360:t.end;return q}));(function(r,q){}(p,p.Ellipse=p.Ellipse||function(r,q){return this}));(function(q,r){r.prototype.draw=function(u,L){var D=L.ptSize/2;var J=this,t=J.startX,s=J.startY,F=J.endX,C=J.endY,z=J.cp1x,w=J.cp1y,K=J.cp2x,I=J.cp2y;var A=(1-u)*(1-u)*(1-u),u=3*(1-u)*(1-u)*u,B=3*(1-u)*u*u,H=u*u*u;var G=A*t+u*z+B*K+H*F,E=A*s+u*w+B*I+H*C;L.render(G,E)}}(p,p.Bezier=p.Bezier||function(s,r){var q=this,t=!r?{}:r;q.startX=t.startX;q.startY=t.startY;q.endX=t.endX;q.endY=t.endY;q.cp1x=t.cp1x;q.cp1y=t.cp1y;q.cp2x=t.cp2x;q.cp2y=t.cp2y;return q}))}(g,g.Path=g.Path||function(r,q){var s=!q?{}:q;var p=this;p.name=!s.name?"":s.name;if(p.name=="line"){return new Juice.Path.Line(r,q)}else{if(p.name=="arc"){return new Juice.Path.Arc(r,q)}else{if(p.name=="bezier"){return new Juice.Path.Bezier(r,q)}else{if(p.name=="ellipse"){return new Juice.Path.Ellipse(r,q)}}}}}));var b=Juice.Animation;var j=Juice.Point;var k=Juice.Path;var f=Juice.Trail;if(i){var m=function(p,d){if(typeof d==="object"){return i(p).data(o,d)}else{return i(p).data(o)}};var e=function(d){return d instanceof i};var l=function(d){return d instanceof b};(function(d,p){d.play=function(q){return q.Juice("play")};d.stop=function(q){return q.Juice("stop")}}(i.Juice=i.Juice||function(d){if(e(d)){return n(d)}},i));(function(d,p){d.methods={init:function(q){var s=i,r=h(this,true);a=r;i.each(r,function(){var u=this,t=m(u);if(!t){q.context=u.getContext("2d");m(u,new b(q));t=m(u);i(u).attr("height",t.hFull);i(u).attr("width",t.wFull)}});return n(r)},play:function(){var q=h(this,false);return n(i.each(q,function(){var r=m(this);if(l(r)){r.play()}}))},stop:function(){var q=h(this,false);return n(i.each(q,function(){var r=m(this);if(l(r)){r.stop()}}))},};d.play=function(q){return i(q).Juice("play")};d.stop=function(q){return i(q).Juice("stop")}}(i.fn.Juice=i.fn.Juice||function(q){var p=i.fn.Juice;var d=i.fn.Juice.methods;if(d[q]){return d[q].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof q==="object"){return d.init.apply(this,arguments)}else{if(typeof q=="undefined"){return n(this)}}}},i.fn));var n=function(d){var p=i(d);p.play=function(){return p.Juice("play")};p.stop=function(){return p.Juice("stop")};return p}}var a;var h=function(d,q){var p=[];d.each(function(){if(i(this).prop("tagName")!="CANVAS"){if(q){var r=document.createElement("canvas");i(r).addClass("Juice");i(this).prepend(i(r));p.push(r)}}else{p.push(this)}});return p}}(window.Juice=window.Juice||function(){},jQuery));