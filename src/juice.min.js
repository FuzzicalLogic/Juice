(function(j,h,D){"use strict";var r='Juice',s=function(){};(function(f,l){l.prototype={play:function(){var a=this,d=a.fps;a.setup(a);a.loops=0;a.isStopped=false;setTimeout(function(){a.draw()},1e3/d)},stop:function(){this.isStopped=true},draw:function(){var a=this,d=a.frame,b=a.fps,c=a.length,g=a.maxFrames,i=a.context,e=a.cache||[];if(!d){a.frame=0}a.maxFrames=b*(c/1e3);i.clearRect(0,0,a.wFull,a.hFull);if(d in e){i.putImageData(e[d],0,0)}else{a.cache[d]=a.drawFrame()}if(++a.frame>=g){a.loops++;a.frame=0;if(a.onLoop){a.onLoop(a,a.loops)}}if(!(a.isStopped)){setTimeout(function(){a.draw()},1e3/b)}},drawFrame:function(){var a=this,d=a.frame,b=a.context,c=a.wFull,g=a.hFull;b.globalAlpha=a.alpha;h.each(a.points,function(){this.draw(d/a.maxFrames)});return b.getImageData(0,0,c,g)}}}(j,j.Animation=j.Animation||function(a){var d=j.Point,b,c,g,i,e=this,f=!a?{}:a;e.cssID=!f.cssID?null:f.cssID;e.cssClass=!f.cssClass?r:f.cssClass;e.w=!f.w?50:f.w;e.h=!f.h?50:f.h;e.padding=!f.padding?0:f.padding;e.wFull=e.w+2*e.padding;e.hFull=e.h+2*e.padding;e.cache=[];e.context=!f.context?null:f.context;e.length=!f.length?1000:f.length;e.fps=!f.fps?30:f.fps;e.alpha=!f.alpha?1:f.alpha;e.ptSize=!f.ptSize?10:f.ptSize;e.setup=!f.setup?s:f.setup;e.onSetup=!f.onSetup?s:f.onSetup;e.onLoop=!f.onLoop?s:f.onLoop;g=!f.trail?{}:f.trail;e.trail=new j.Trail(g);e.points=[];i=!f.points?[{}]:f.points;b=i.length;for(c=0;ca.h)?a.w/2:a.h/2):c.r;b.start=c.start||0;b.end=c.end||360;return b}));(function(a){}(m,m.Ellipse=m.Ellipse||function(a,d){return this}));(function(F,y){y.prototype.draw=function(a,d){var b=this,c=b.startX,g=b.startY,i=b.endX,e=b.endY,f=b.cp1x,l=b.cp1y,n=b.cp2x,k=b.cp2y,q=(1-a)*(1-a)*(1-a),u=3*(1-a)*(1-a)*a,v=3*(1-a)*a*a,w=a*a*a,z=q*c+u*f+v*n+w*i,A=q*g+u*l+v*k+w*e;d.render(z,A)}}(m,m.Bezier=m.Bezier||function(a,d){var b=this,c=d||{};b.startX=c.startX;b.startY=c.startY;b.endX=c.endX;b.endY=c.endY;b.cp1x=c.cp1x;b.cp1y=c.cp1y;b.cp2x=c.cp2x;b.cp2y=c.cp2y;return b}))}(j,j.Path=j.Path||function(a,d){var b,c=d||{},g=this;g.name=c.name||'';if(g.name==='line'){b=new j.Path.Line(a,d)}else if(g.name==='arc'){b=new j.Path.Arc(a,d)}else if(g.name==='bezier'){b=new j.Path.Bezier(a,d)}else if(g.name==='ellipse'){b=new j.Path.Ellipse(a,d)}return b}));if(h){var B,o=function(a,d){var b;if(typeof d==='object'){b=h(a).data(r,d)}else{b=h(a).data(r)}return b},C=function(a){return a instanceof h},x=function(a){return a instanceof j.Animation},p=function(a){var d=h(a);d.play=function(){return d.Juice('play')};d.stop=function(){return d.Juice('stop')};return d},t=function(d,b){var c=[];d.each(function(){if(h(this).prop('tagName')!=='CANVAS'){if(b){var a=document.createElement('canvas');h(a).addClass('Juice');h(this).prepend(h(a));c.push(a)}}else{c.push(this)}});return c};(function(d){d.play=function(a){return a.Juice('play')};d.stop=function(a){return a.Juice('stop')}}(h.Juice=h.Juice||function(a){if(C(a)){return p(a)}},h));(function(g){g.methods={init:function(b){var c=t(this,true);B=c;h.each(c,function(){var a=this,d=o(a);if(!d){b.context=a.getContext('2d');o(a,new Juice.Animation(b));d=o(a);h(a).attr('height',d.hFull);h(a).attr('width',d.wFull)}});return p(c)},play:function(){var d=t(this,false);return p(h.each(d,function(){var a=o(this);if(x(a)){a.play()}}))},stop:function(){var d=t(this,false);return p(h.each(d,function(){var a=o(this);if(x(a)){a.stop()}}))}};g.play=function(a){return h(a).Juice('play')};g.stop=function(a){return h(a).Juice('stop')}}(h.fn.Juice=h.fn.Juice||function(a){var d,b=h.fn.Juice.methods;if(b[a]){d=b[a].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof a==='object'){d=b.init.apply(this,arguments)}else if(typeof a==='undefined'){d=p(this)}return d},h.fn))}}(window.Juice=window.Juice||function(){},window.jQuery));
