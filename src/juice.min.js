"use strict";(function(h,j,e){var p="Juice",c=function(){};(function(q,d){d.prototype={play:function(){var r=this,s=r.fps;r.setup(r);r.loops=0;r.isStopped=false;setTimeout(function(){r.draw()},1000/s)},stop:function(){this.isStopped=true},draw:function(){var u=this,v=u.frame,w=u.fps,s=u.length,r=u.maxFrames,x=u.context,t=u.cache||[];if(!v){u.frame=0}u.maxFrames=w*(s/1000);x.clearRect(0,0,u.wFull,u.hFull);if(v in t){x.putImageData(t[v],0,0)}else{u.cache[v]=u.drawFrame()}if(++u.frame>=r){u.loops++;u.frame=0;if(u.onLoop){u.onLoop(u,u.loops)}}if(!(u.isStopped)){setTimeout(function(){u.draw()},1000/w)}},drawFrame:function(){var s=this,u=s.frame,v=s.context,r=s.wFull,t=s.hFull;v.globalAlpha=s.alpha;j.each(s.points,function(){this.draw(u/s.maxFrames)});return v.getImageData(0,0,r,t)}}}(h,h.Animation=h.Animation||function(u){var x=h.Point,q,s,t,w,r=this,v=!u?{}:u;r.cssID=!v.cssID?null:v.cssID;r.cssClass=!v.cssClass?p:v.cssClass;r.w=!v.w?50:v.w;r.h=!v.h?50:v.h;r.padding=!v.padding?0:v.padding;r.wFull=r.w+2*r.padding;r.hFull=r.h+2*r.padding;r.cache=[];r.context=!v.context?null:v.context;r.length=!v.length?1000:v.length;r.fps=!v.fps?30:v.fps;r.alpha=!v.alpha?1:v.alpha;r.ptSize=!v.ptSize?10:v.ptSize;r.setup=!v.setup?c:v.setup;r.onSetup=!v.onSetup?c:v.onSetup;r.onLoop=!v.onLoop?c:v.onLoop;t=!v.trail?{}:v.trail;r.trail=new h.Trail(t);r.points=[];w=!v.points?[{}]:v.points;q=w.length;for(s=0;st.h)?t.w/2:t.h/2):u.r;r.start=u.start||0;r.end=u.end||360;return r}));(function(r){}(q,q.Ellipse=q.Ellipse||function(s,r){return this}));(function(r,s){s.prototype.draw=function(w,M){var K=this,u=K.startX,t=K.startY,F=K.endX,D=K.endY,A=K.cp1x,z=K.cp1y,L=K.cp2x,J=K.cp2y,B=(1-w)*(1-w)*(1-w),I=3*(1-w)*(1-w)*w,C=3*(1-w)*w*w,H=w*w*w,G=B*u+I*A+C*L+H*F,E=B*t+I*z+C*J+H*D;M.render(G,E)}}(q,q.Bezier=q.Bezier||function(t,s){var r=this,u=s||{};r.startX=u.startX;r.startY=u.startY;r.endX=u.endX;r.endY=u.endY;r.cp1x=u.cp1x;r.cp1y=u.cp1y;r.cp2x=u.cp2x;r.cp2y=u.cp2y;return r}))}(h,h.Path=h.Path||function(u,t){var s,v=t||{},q=this;q.name=v.name||"";if(q.name==="line"){s=new h.Path.Line(u,t)}else{if(q.name==="arc"){s=new h.Path.Arc(u,t)}else{if(q.name==="bezier"){s=new h.Path.Bezier(u,t)}else{if(q.name==="ellipse"){s=new h.Path.Ellipse(u,t)}}}}return s}));var b=h.Animation,k=h.Point,l=h.Path,g=h.Trail;if(j){var a,n=function(s,q){var d;if(typeof q==="object"){d=j(s).data(p,q)}else{d=j(s).data(p)}return d},f=function(d){return d instanceof j},m=function(d){return d instanceof b},o=function(d){var q=j(d);q.play=function(){return q.Juice("play")};q.stop=function(){return q.Juice("stop")};return q},i=function(d,r){var q=[];d.each(function(){if(j(this).prop("tagName")!=="CANVAS"){if(r){var s=document.createElement("canvas");j(s).addClass("Juice");j(this).prepend(j(s));q.push(s)}}else{q.push(this)}});return q};(function(d){d.play=function(q){return q.Juice("play")};d.stop=function(q){return q.Juice("stop")}}(j.Juice=j.Juice||function(d){if(f(d)){return o(d)}},j));(function(d){d.methods={init:function(q){var r=i(this,true);a=r;j.each(r,function(){var t=this,s=n(t);if(!s){q.context=t.getContext("2d");n(t,new b(q));s=n(t);j(t).attr("height",s.hFull);j(t).attr("width",s.wFull)}});return o(r)},play:function(){var q=i(this,false);return o(j.each(q,function(){var r=n(this);if(m(r)){r.play()}}))},stop:function(){var q=i(this,false);return o(j.each(q,function(){var r=n(this);if(m(r)){r.stop()}}))}};d.play=function(q){return j(q).Juice("play")};d.stop=function(q){return j(q).Juice("stop")}}(j.fn.Juice=j.fn.Juice||function(s){var q,d=j.fn.Juice.methods;if(d[s]){q=d[s].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof s==="object"){q=d.init.apply(this,arguments)}else{if(typeof s==="undefined"){q=o(this)}}}return q},j.fn))}}(window.Juice=window.Juice||function(){},window.jQuery));
